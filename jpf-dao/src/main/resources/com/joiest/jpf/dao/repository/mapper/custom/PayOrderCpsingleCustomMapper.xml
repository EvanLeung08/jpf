<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.joiest.jpf.dao.repository.mapper.custom.PayOrderCpsingleCustomMapper">
    <resultMap id="BaseResultMap" type="com.joiest.jpf.common.custom.PayOrderCpsingleCustom">
        <!--
          @mbggenerated
          This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 10 13:54:55 CST 2018.
        -->
        <id column="id" jdbcType="BIGINT" property="id" />
        <result column="tdorderid" jdbcType="BIGINT" property="tdorderid" />
        <result column="orderid" jdbcType="BIGINT" property="orderid" />
        <result column="tdorderprice" jdbcType="DECIMAL" property="tdorderprice" />
        <result column="mtsid" jdbcType="BIGINT" property="mtsid" />
        <result column="singletype" jdbcType="TINYINT" property="singletype" />
        <result column="singlestatus" jdbcType="TINYINT" property="singlestatus" />
        <result column="operate_content" jdbcType="VARCHAR" property="operateContent" />
        <result column="addtime" jdbcType="TIMESTAMP" property="addtime" />
        <result column="refund_content" jdbcType="VARCHAR" property="refundContent" />

        <result column="merch_name" jdbcType="VARCHAR" property="merchName" />
    </resultMap>
    <sql id="Example_Where_Clause">
        <!--
          @mbggenerated
          This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 10 13:54:55 CST 2018.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          @mbggenerated
          This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 10 13:54:55 CST 2018.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          @mbggenerated
          This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 10 13:54:55 CST 2018.
        -->
        id, tdorderid, orderid, tdorderprice, mtsid, singletype, singlestatus, operate_content,
        addtime, refund_content
    </sql>
    <select id="selectJoinMerchants" parameterType="com.joiest.jpf.common.po.PayOrderCpsingleExample" resultMap="BaseResultMap">
        <!--
          @mbggenerated
          This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 10 13:54:55 CST 2018.
        -->
        SELECT o.*,m.merch_name
        FROM pay_order_cpsingle o
        JOIN pay_merchants m ON o.mtsid=m.id

        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
        <if test="pageNo &gt; 0 and pageSize &gt; 0">
            limit ${(pageNo-1) * pageSize}, ${pageSize}
        </if>
    </select>

</mapper>